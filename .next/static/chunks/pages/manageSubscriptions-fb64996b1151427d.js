(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[249],{7072:(t,e,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/manageSubscriptions",function(){return a(4310)}])},361:(t,e,a)=>{"use strict";a.d(e,{A:()=>o});var s=a(4848),r=a(6540),n=a(1106),c=a.n(n),i=a(8e3),l=a(3703);function o(t){let{label:e,icon:a,iconSize:n,href:o,target:d,type:u,color:x="white",className:h="",asAnchor:m=!1,small:p=!1,outline:g=!1,active:j=!1,disabled:f=!1,roundedFull:N=!1,onClick:b}=t,v=["inline-flex","justify-center","items-center","whitespace-nowrap","focus:outline-none","transition-colors","focus:ring","duration-150","border",f?"cursor-not-allowed":"cursor-pointer",N?"rounded-full":"rounded",(0,i.sG)(x,g,!f,j),h];!e&&a?v.push("p-1"):p?v.push("text-sm",N?"px-3 py-1":"p-1"):v.push("py-2",N?"px-6":"px-3"),f&&v.push(g?"opacity-50":"opacity-70");let y=v.join(" "),w=(0,s.jsxs)(s.Fragment,{children:[a&&(0,s.jsx)(l.A,{path:a,size:n}),e&&(0,s.jsx)("span",{className:p&&a?"px-1":"px-2",children:e})]});return o&&!f?(0,s.jsx)(c(),{href:o,target:d,className:y,children:w}):r.createElement(m?"a":"button",{className:y,type:null!=u?u:"button",target:d,disabled:f,onClick:b},w)}},3021:(t,e,a)=>{"use strict";a.d(e,{A:()=>r});var s=a(4848);function r(t){let{noPadding:e=!1,className:a,children:r}=t;return(0,s.jsx)("div",{className:"flex-1 ".concat(e?"":"p-6"," ").concat(a),children:r})}a(6540)},4596:(t,e,a)=>{"use strict";a.d(e,{A:()=>r});var s=a(4848);function r(t){let{className:e,children:a}=t;return(0,s.jsx)("footer",{className:"p-6 ".concat(e),children:a})}a(6540)},1829:(t,e,a)=>{"use strict";a.d(e,{A:()=>i});var s=a(4848),r=a(6540),n=a(3021),c=a(4596);function i(t){let{rounded:e="rounded-2xl",flex:a="flex-col",className:i="",hasComponentLayout:l=!1,hasTable:o=!1,isHoverable:d=!1,isModal:u=!1,children:x,footer:h,onClick:m}=t,p=["bg-white flex",i,e,a,u?"dark:bg-slate-900":"dark:bg-slate-900/70"];return d&&p.push("hover:shadow-lg transition-shadow duration-500"),r.createElement("div",{className:p.join(" "),onClick:m},l?x:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.A,{noPadding:o,children:x}),h&&(0,s.jsx)(c.A,{children:h})]}))}},6642:(t,e,a)=>{"use strict";a.d(e,{A:()=>n});var s=a(4848);a(6540);var r=a(7286);function n(t){let{children:e}=t;return(0,s.jsx)("section",{className:"p-6 ".concat(r.Fx),children:e})}},9601:(t,e,a)=>{"use strict";a.d(e,{A:()=>d});var s=a(4848),r=a(9165),n=a(6540),c=a(361),i=a(3703),l=a(8e3);function o(t){let{icon:e,color:a,w:r="w-12",h:n="h-12",bg:c=!1,className:o=""}=t,d=c?l.cu[a]:"".concat(l.Wj[a]," bg-gray-50 dark:bg-slate-800");return(0,s.jsx)(i.A,{path:e,w:r,h:n,size:"24",className:"rounded-full ".concat(d," ").concat(o)})}function d(t){let{icon:e,title:a,main:l=!1,children:d}=t,u=!!n.Children.count(d);return(0,s.jsxs)("section",{className:"".concat(l?"":"pt-6"," mb-6 flex items-center justify-between"),children:[(0,s.jsxs)("div",{className:"flex items-center justify-start",children:[e&&l&&(0,s.jsx)(o,{icon:e,color:"light",className:"mr-3",bg:!0}),e&&!l&&(0,s.jsx)(i.A,{path:e,className:"mr-2",size:"20"}),(0,s.jsx)("h1",{className:"leading-tight ".concat(l?"text-3xl":"text-2xl"),children:a})]}),d,!u&&(0,s.jsx)(c.A,{icon:r.CZ3,color:"whiteDark"})]})}},4310:(t,e,a)=>{"use strict";a.r(e),a.d(e,{default:()=>h});var s=a(4848),r=a(6540),n=a(6642),c=a(9601),i=a(1829),l=a(361),o=a(9165),d=a(1593),u=a(6715);let x=()=>{let[t,e]=(0,r.useState)([]),[a,d]=(0,r.useState)(!0),x=(0,u.useRouter)();(0,r.useEffect)(()=>{e((()=>{try{return JSON.parse(localStorage.getItem("subscriptions"))||[]}catch(t){return console.error("Invalid subscription data in localStorage."),[]}})().map(t=>{var e;let a=new Date(t.startDate||Date.now()),s=parseInt(null===(e=t.duration)||void 0===e?void 0:e.split(" ")[0])||0,r=new Date(a);r.setMonth(a.getMonth()+s);let n=new Date<=r&&"Inactive"!==t.status?"Active":"Inactive";return{...t,startDate:a.toLocaleDateString(),endDate:r.toLocaleDateString(),status:n}})),d(!1)},[]);let h=a=>{let s=t.map((t,e)=>{if(e===a){let e="Active"===t.status?"Inactive":"Active",a=new Date;return{...t,status:e,endDate:"Inactive"===e?a.toLocaleDateString():t.endDate}}return t});e(s),localStorage.setItem("subscriptions",JSON.stringify(s));let r="Active"===s[a].status?"activated":"deactivated";alert("Subscription ".concat(r," successfully!"))};return a?(0,s.jsx)("p",{className:"text-center text-xl text-gray-500 dark:text-gray-300 mt-8",children:"Loading..."}):0===t.length?(0,s.jsx)("p",{className:"text-center text-xl text-gray-500 dark:text-gray-300 mt-8",children:"No subscriptions available."}):(0,s.jsxs)(n.A,{children:[(0,s.jsx)(c.A,{icon:o.eJe,title:"Manage Your Subscriptions"}),(0,s.jsx)("div",{className:"mt-8 grid grid-cols-1 gap-8 sm:grid-cols-2 lg:grid-cols-3",children:t.map((t,e)=>(0,s.jsxs)(i.A,{className:"p-6 rounded-lg shadow-lg border-2 border-gray-300 dark:border-gray-700 transition-all hover:shadow-xl hover:border-gray-500",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 dark:text-white mb-4",children:t.plan}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 mb-2",children:["Price: ",(0,s.jsx)("span",{className:"font-medium",children:t.price})]}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 mb-2",children:["Duration: ",(0,s.jsx)("span",{className:"font-medium",children:t.duration})]}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 mb-2",children:["Subscription Start: ",(0,s.jsx)("span",{className:"font-medium",children:t.startDate})]}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 mb-2",children:["Subscription End: ",(0,s.jsx)("span",{className:"font-medium",children:t.endDate})]}),(0,s.jsxs)("p",{className:"text-gray-600 dark:text-gray-300 mb-4",children:["Status: ",(0,s.jsx)("span",{className:"font-medium ".concat("Active"===t.status?"text-green-500":"text-red-500"),children:t.status})]}),(0,s.jsx)("p",{className:"text-gray-600 dark:text-gray-300 mb-2",children:"Subscribed for:"}),(0,s.jsx)("ul",{className:"text-gray-600 dark:text-gray-300 mb-4",children:t.childId?(0,s.jsxs)("li",{children:["- ",(0,s.jsx)("span",{className:"font-medium",children:"Child ID:"})," ",t.childId]}):(0,s.jsx)("li",{className:"text-gray-500",children:"No child ID available."})}),(0,s.jsx)(l.A,{label:"Active"===t.status?"Deactivate":"Activate",color:"Active"===t.status?"danger":"success",onClick:()=>{"Inactive"===t.status?x.push("/plans"):h(e)},className:"w-full py-2 px-4 rounded-md text-white font-semibold transition-all hover:opacity-80"})]},e))})]})};x.getLayout=function(t){return(0,s.jsx)(d.A,{userType:"parent",children:t})};let h=x},6715:(t,e,a)=>{t.exports=a(8440)}},t=>{var e=e=>t(t.s=e);t.O(0,[929,106,149,974,636,593,792],()=>e(7072)),_N_E=t.O()}]);